<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-balance-manipulation-and-whole-body-control" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Balance, Manipulation, and Whole-Body Control | Physical AI &amp; Humanoid Robotics: Bridging Digital Intelligence and the Physical World</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://phys-git-main-sairarizvi6-projects.vercel.app/balance-manipulation-and-whole-body-control"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="chat-api" content="https://phys-chatbot-api.vercel.app/chat"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Balance, Manipulation, and Whole-Body Control | Physical AI &amp; Humanoid Robotics: Bridging Digital Intelligence and the Physical World"><meta data-rh="true" name="description" content="Mastering Physical Interaction"><meta data-rh="true" property="og:description" content="Mastering Physical Interaction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://phys-git-main-sairarizvi6-projects.vercel.app/balance-manipulation-and-whole-body-control"><link data-rh="true" rel="alternate" href="https://phys-git-main-sairarizvi6-projects.vercel.app/balance-manipulation-and-whole-body-control" hreflang="en"><link data-rh="true" rel="alternate" href="https://phys-git-main-sairarizvi6-projects.vercel.app/balance-manipulation-and-whole-body-control" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.0a5f47d9.css">
<link rel="preload" href="/assets/js/runtime~main.a22e79de.js" as="script">
<link rel="preload" href="/assets/js/main.8e1e1db1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/introduction-to-physical-ai">Textbook</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/panaversity/ai-robotics-textbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/introduction-to-physical-ai">Introduction to Physical AI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/embodied-intelligence-and-humanoids">Embodied Intelligence and Humanoids</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ros2-the-robotic-nervous-system">ROS 2 - The Robotic Nervous System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/urdf-and-robot-description">URDF and Robot Description</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sensors-in-physical-ai">Sensors in Physical AI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/simulation-with-gazebo">Simulation with Gazebo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nvidia-isaac-sim-and-digital-twins">NVIDIA Isaac Sim and Digital Twins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/isaac-ros-and-perception">Isaac ROS and Perception</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/navigation-and-bipedal-locomotion">Navigation and Bipedal Locomotion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vision-language-action-models">Vision-Language-Action Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/conversational-robotics-voice-to-action">Conversational Robotics - Voice to Action</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/balance-manipulation-and-whole-body-control">Balance, Manipulation, and Whole-Body Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/capstone-autonomous-humanoid">Capstone - Autonomous Humanoid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/recommended-humanoid-robots">Recommended Humanoid Robots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/student-hardware-guide">Student Hardware Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome to Physical AI &amp; Humanoid Robotics</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Balance, Manipulation, and Whole-Body Control</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Chapter 12: Balance, Manipulation, and Whole-Body Control</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mastering-physical-interaction">Mastering Physical Interaction<a href="#mastering-physical-interaction" class="hash-link" aria-label="Direct link to Mastering Physical Interaction" title="Direct link to Mastering Physical Interaction">​</a></h2><p>For a humanoid robot to truly operate in human environments, it must master the complex interplay of balance, dexterous manipulation, and coordinated whole-body movements. This chapter delves into the advanced control strategies that enable humanoids to maintain stability while moving, interact skillfully with objects, and seamlessly integrate all their physical capabilities to perform complex tasks. These are the physical intelligence foundations that underpin general-purpose humanoid robots.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-grand-challenge-of-humanoid-control">The Grand Challenge of Humanoid Control<a href="#the-grand-challenge-of-humanoid-control" class="hash-link" aria-label="Direct link to The Grand Challenge of Humanoid Control" title="Direct link to The Grand Challenge of Humanoid Control">​</a></h3><p>Unlike industrial robots that operate in structured, static environments, humanoids must contend with inherent instability, uncertain terrain, and diverse objects. This requires real-time control loops that integrate sensory feedback with complex models of robot dynamics.</p><ul><li><strong>Underactuation</strong>: Many humanoid joints are not directly controlled by a single motor (e.g., foot contact, passive joints), making control harder.</li><li><strong>High Dimensionality</strong>: A humanoid robot can have 50 or more degrees of freedom, creating a high-dimensional control problem.</li><li><strong>Dynamic Interactions</strong>: Continuous contact with the environment (walking, grasping) introduces complex physical interactions that must be managed.</li><li><strong>Safety</strong>: Ensuring stable movements and gentle interactions with objects and humans.</li></ul><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">graph TD</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    A[High-Level Task Command] --&gt; B(Motion Planner)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    B --&gt; C(Inverse Kinematics / Dynamics)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    C --&gt; D(Whole-Body Controller)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    D --&gt; E[Joint Torques / Positions]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    E --&gt; F[Robot Hardware]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    F --&gt; G[Sensor Feedback (IMU, Force, Vision)]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    G --&gt; D</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    G --&gt; B</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em>Figure 12.1: Simplified whole-body control architecture.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="balance-control-for-bipedal-robots">Balance Control for Bipedal Robots<a href="#balance-control-for-bipedal-robots" class="hash-link" aria-label="Direct link to Balance Control for Bipedal Robots" title="Direct link to Balance Control for Bipedal Robots">​</a></h2><p>Maintaining balance is paramount for bipedal humanoids. Building upon the ZMP concept from Chapter 9, advanced techniques are required for robust stability.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="121-zero-moment-point-zmp-control">12.1. Zero Moment Point (ZMP) Control<a href="#121-zero-moment-point-zmp-control" class="hash-link" aria-label="Direct link to 12.1. Zero Moment Point (ZMP) Control" title="Direct link to 12.1. Zero Moment Point (ZMP) Control">​</a></h3><ul><li><strong>Recap</strong>: ZMP is the point on the ground where inertial forces and gravity produce no moment. Keeping ZMP within the support polygon (feet contact area) ensures balance.</li><li><strong>Linear Inverted Pendulum Model (LIPM)</strong>: A simplified model of the robot&#x27;s dynamics used to plan ZMP trajectories that result in stable walking. It models the robot as a point mass on a massless leg.</li><li><strong>Preview Control</strong>: A method to calculate future ZMP trajectories that keep the robot balanced while following a desired CoM trajectory.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="122-center-of-mass-com-trajectory-generation">12.2. Center of Mass (CoM) Trajectory Generation<a href="#122-center-of-mass-com-trajectory-generation" class="hash-link" aria-label="Direct link to 12.2. Center of Mass (CoM) Trajectory Generation" title="Direct link to 12.2. Center of Mass (CoM) Trajectory Generation">​</a></h3><p>Planning a stable gait involves generating a smooth and dynamically feasible trajectory for the robot&#x27;s CoM. This is often done offline or in real-time using techniques like:</p><ul><li><strong>Optimization-based Methods</strong>: Formulating balance as an optimization problem to minimize energy or maximize stability.</li><li><strong>Pattern Generators</strong>: Using parameterized gait patterns that can be adapted to different speeds and terrains.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="123-whole-body-state-estimation">12.3. Whole-Body State Estimation<a href="#123-whole-body-state-estimation" class="hash-link" aria-label="Direct link to 12.3. Whole-Body State Estimation" title="Direct link to 12.3. Whole-Body State Estimation">​</a></h3><p>Accurate knowledge of the robot&#x27;s full state (joint angles, velocities, accelerations, base pose, contact forces) is crucial. This is achieved through sensor fusion (IMU, joint encoders, force sensors) via techniques like Extended Kalman Filters or complementary filters.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="manipulation-and-grasping">Manipulation and Grasping<a href="#manipulation-and-grasping" class="hash-link" aria-label="Direct link to Manipulation and Grasping" title="Direct link to Manipulation and Grasping">​</a></h2><p>Dexterous manipulation requires a deep understanding of object properties, environment constraints, and precise control of multi-fingered hands or grippers.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="124-inverse-kinematics-ik">12.4. Inverse Kinematics (IK)<a href="#124-inverse-kinematics-ik" class="hash-link" aria-label="Direct link to 12.4. Inverse Kinematics (IK)" title="Direct link to 12.4. Inverse Kinematics (IK)">​</a></h3><p>IK calculates the joint angles required to position a robot&#x27;s end-effector (e.g., hand) at a desired pose in space. For redundant manipulators (more joints than necessary for a task), IK solvers can optimize for additional criteria like avoiding joint limits or singularities.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="125-grasp-planning">12.5. Grasp Planning<a href="#125-grasp-planning" class="hash-link" aria-label="Direct link to 12.5. Grasp Planning" title="Direct link to 12.5. Grasp Planning">​</a></h3><p>Selecting a stable and effective grasp for an object involves:</p><ul><li><strong>Perception</strong>: Identifying the object&#x27;s shape, size, and material.</li><li><strong>Contact Modeling</strong>: Predicting stable contact points between the gripper and the object.</li><li><strong>Force Closure</strong>: Ensuring the grasp can resist external forces without slipping.</li><li><strong>Grasp Synthesis</strong>: Generating suitable gripper configurations (e.g., using deep learning models or analytical methods).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="126-compliant-control">12.6. Compliant Control<a href="#126-compliant-control" class="hash-link" aria-label="Direct link to 12.6. Compliant Control" title="Direct link to 12.6. Compliant Control">​</a></h3><p>When interacting with unknown or deformable objects, or operating near humans, compliant control is essential. Instead of precise position control, compliant control regulates the forces exerted by the robot.</p><ul><li><strong>Impedance Control</strong>: Controls the relationship between force and displacement (e.g., acting like a spring-damper system).</li><li><strong>Admittance Control</strong>: Controls the relationship between desired force and actual motion.</li><li><strong>Force Control</strong>: Directly regulates the force applied by the end-effector.</li></ul><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!-- Example: ros2_control configuration for a position-controlled joint --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">hardware</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">plugin</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">gazebo_ros2_control/GazeboSystem</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">plugin</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">hardware</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">controller</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">joint_trajectory_controller</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">arm_controller</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">joint_trajectory_controller/JointTrajectoryController</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">parameters</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">joint_names</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - shoulder_pan_joint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - elbow_joint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">joint_names</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">state_interface_types</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - position</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">state_interface_types</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">command_interface_types</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - position</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">command_interface_types</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">state_publish_rate</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">50.0</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">state_publish_rate</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">action_monitor_rate</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">20.0</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">action_monitor_rate</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">parameters</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">controller</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em>Code 12.1: Snippet of <code>ros2_control</code> configuration for a joint trajectory controller.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whole-body-control-wbc">Whole-Body Control (WBC)<a href="#whole-body-control-wbc" class="hash-link" aria-label="Direct link to Whole-Body Control (WBC)" title="Direct link to Whole-Body Control (WBC)">​</a></h2><p><strong>Whole-Body Control (WBC)</strong> is a unified framework that simultaneously coordinates all of a robot&#x27;s joints (legs, arms, torso, head) to achieve multiple tasks while respecting physical constraints (joint limits, contact forces, balance). For humanoids, WBC is critical for complex actions like walking while carrying an object, or pushing a heavy door.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="127-task-prioritization">12.7. Task Prioritization<a href="#127-task-prioritization" class="hash-link" aria-label="Direct link to 12.7. Task Prioritization" title="Direct link to 12.7. Task Prioritization">​</a></h3><p>WBC often deals with multiple, potentially conflicting tasks (e.g., maintain balance, reach for object, avoid obstacles). Tasks are typically prioritized:</p><ol><li><strong>High Priority</strong>: Balance, collision avoidance.</li><li><strong>Medium Priority</strong>: End-effector tasks (reaching, grasping).</li><li><strong>Low Priority</strong>: Posture optimization, minimizing joint movements.</li></ol><p>This hierarchical approach ensures that critical safety and stability tasks are always met.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="128-optimization-based-control">12.8. Optimization-Based Control<a href="#128-optimization-based-control" class="hash-link" aria-label="Direct link to 12.8. Optimization-Based Control" title="Direct link to 12.8. Optimization-Based Control">​</a></h3><p>Many WBC frameworks formulate the control problem as a real-time optimization problem, solving for joint accelerations or torques that best satisfy all tasks and constraints. This involves solving quadratic programming (QP) problems at high frequencies.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="129-model-predictive-control-mpc">12.9. Model Predictive Control (MPC)<a href="#129-model-predictive-control-mpc" class="hash-link" aria-label="Direct link to 12.9. Model Predictive Control (MPC)" title="Direct link to 12.9. Model Predictive Control (MPC)">​</a></h3><p>MPC is an advanced control strategy that uses a predictive model of the robot&#x27;s dynamics to optimize future control inputs over a receding horizon. It is highly effective for dynamic tasks like bipedal walking, offering robust performance in the face of disturbances.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>Balance, manipulation, and whole-body control are the cornerstones of physical intelligence for humanoid robots. By integrating advanced concepts like ZMP control, inverse kinematics, compliant interaction, and whole-body optimization, humanoids can move stably, interact dexterously with their environment, and perform complex tasks with human-like fluidity. Mastery of these control paradigms is essential for unlocking the full potential of general-purpose physical AI.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-takeaways">Key Takeaways<a href="#key-takeaways" class="hash-link" aria-label="Direct link to Key Takeaways" title="Direct link to Key Takeaways">​</a></h2><ul><li>Humanoid control is challenging due to underactuation, high dimensionality, and dynamic interactions.</li><li>Balance control relies on ZMP, CoM trajectory generation, LIPM, and preview control.</li><li>Manipulation involves Inverse Kinematics (IK), grasp planning, and compliant control (impedance, admittance, force control).</li><li>Whole-Body Control (WBC) coordinates all joints for multiple tasks, often using task prioritization and optimization-based methods.</li><li>Model Predictive Control (MPC) is an advanced strategy for dynamic tasks like bipedal walking.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="practice-assignment">Practice Assignment<a href="#practice-assignment" class="hash-link" aria-label="Direct link to Practice Assignment" title="Direct link to Practice Assignment">​</a></h2><ol><li>Research and compare two different whole-body control frameworks (e.g., OpenHRP, Crocoddyl, Pinocchio). Discuss their core methodologies, strengths, and weaknesses for humanoid applications.</li><li>Imagine a humanoid robot needs to pick up a delicate object (e.g., an egg) and place it on a shelf. Describe how the robot would use a combination of balance control, inverse kinematics, and compliant control to achieve this task safely and successfully.</li><li>(Conceptual) Outline a Python script that uses a simplified IK solver (e.g., for a 2-DOF arm) to calculate joint angles required to reach a target end-effector position. Assume the robot arm starts at known joint angles and the target is within reach.</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/12-balance-manipulation-and-whole-body-control.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/conversational-robotics-voice-to-action"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Conversational Robotics - Voice to Action</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/capstone-autonomous-humanoid"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Capstone - Autonomous Humanoid</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#mastering-physical-interaction" class="table-of-contents__link toc-highlight">Mastering Physical Interaction</a><ul><li><a href="#the-grand-challenge-of-humanoid-control" class="table-of-contents__link toc-highlight">The Grand Challenge of Humanoid Control</a></li></ul></li><li><a href="#balance-control-for-bipedal-robots" class="table-of-contents__link toc-highlight">Balance Control for Bipedal Robots</a><ul><li><a href="#121-zero-moment-point-zmp-control" class="table-of-contents__link toc-highlight">12.1. Zero Moment Point (ZMP) Control</a></li><li><a href="#122-center-of-mass-com-trajectory-generation" class="table-of-contents__link toc-highlight">12.2. Center of Mass (CoM) Trajectory Generation</a></li><li><a href="#123-whole-body-state-estimation" class="table-of-contents__link toc-highlight">12.3. Whole-Body State Estimation</a></li></ul></li><li><a href="#manipulation-and-grasping" class="table-of-contents__link toc-highlight">Manipulation and Grasping</a><ul><li><a href="#124-inverse-kinematics-ik" class="table-of-contents__link toc-highlight">12.4. Inverse Kinematics (IK)</a></li><li><a href="#125-grasp-planning" class="table-of-contents__link toc-highlight">12.5. Grasp Planning</a></li><li><a href="#126-compliant-control" class="table-of-contents__link toc-highlight">12.6. Compliant Control</a></li></ul></li><li><a href="#whole-body-control-wbc" class="table-of-contents__link toc-highlight">Whole-Body Control (WBC)</a><ul><li><a href="#127-task-prioritization" class="table-of-contents__link toc-highlight">12.7. Task Prioritization</a></li><li><a href="#128-optimization-based-control" class="table-of-contents__link toc-highlight">12.8. Optimization-Based Control</a></li><li><a href="#129-model-predictive-control-mpc" class="table-of-contents__link toc-highlight">12.9. Model Predictive Control (MPC)</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#key-takeaways" class="table-of-contents__link toc-highlight">Key Takeaways</a></li><li><a href="#practice-assignment" class="table-of-contents__link toc-highlight">Practice Assignment</a></li></ul></div></div></div></div></main></div></div><button class="chatButton_gSQt" aria-label="Toggle chat"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="9" cy="10" r="0.5" fill="currentColor" stroke-width="0"></circle><circle cx="12" cy="10" r="0.5" fill="currentColor" stroke-width="0"></circle><circle cx="15" cy="10" r="0.5" fill="currentColor" stroke-width="0"></circle></svg></button></div>
<script src="/assets/js/runtime~main.a22e79de.js"></script>
<script src="/assets/js/main.8e1e1db1.js"></script>
</body>
</html>